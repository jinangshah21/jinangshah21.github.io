<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Week 2 - GSOC 2025 Blog</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
  />
  <!-- Prism.js for syntax highlighting -->
  <link href="https://cdn.jsdelivr.net/npm/prismjs/themes/prism.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/prismjs/prism.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs/components/prism-fortran.min.js"></script>
  <!-- Highlight.js CSS Theme -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css">
  <!-- Highlight.js Library -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/fortran.min.js"></script>
  <script>hljs.highlightAll();</script>
</head>
<body class="bg-white text-gray-800 font-sans">

  <!-- Header Section -->
  <section class="bg-gradient-to-r from-gray-700 to-gray-900 text-white text-center py-12">
    <h2 class="text-3xl md:text-4xl font-extrabold tracking-widest">Compiling FPM with LFortran</h2>
    <p class="mt-2 text-lg md:text-xl font-medium">GSOC 2025 @Fortran-lang</p>
    <p class="mt-1 text-sm md:text-base text-gray-300">by Jinang Shah</p>
  </section>

  <!-- Content Section -->
  <section class="px-6 py-10 max-w-4xl mx-auto">

    <!-- Week 2 Title -->
    <h2 class="text-lg md:text-xl font-bold text-gray-800 mb-4">Week 2 - Continuing toml-f MREs and pushing fixes</h2>
    <p class="text-sm text-gray-500 mb-6">May 24 – May 31, 2025</p>

    <!-- Week 2 Content -->
    <div class="prose prose-gray max-w-none text-justify">
      <p>
        Welcome back to my GSoC 2025 journey! This week, I continued working on compiling 
        <a href="https://github.com/toml-f/toml-f" target="_blank" style="text-decoration: underline; color: inherit;"><strong>toml-f</strong></a> 
        with the <a href="https://github.com/lfortran/lfortran" target="_blank" style="text-decoration: underline; color: inherit;"><strong>LFortran</strong></a> 
        compiler. After creating several workarounds and MREs in Week 1-2, I came to a point where workarounds seems infeasible, so I started to fix MREs generated for toml-f. LFortran compiler's OOP support is still evolving, and many of the issues I encountered were related to that. So I also brainstormed some on how classes should be implemented correctly.
      </p>

      <p class="mt-6 font-semibold">Work done in this week:</p>
      <ul class="list-disc pl-6">
        <li>Created additional MREs for issues encountered while compiling toml-f with LFortran, especially around complex OOPs. Some example MREs are listed below:</li>
     <ul class="list-disc pl-6 mt-2">
    <li>
      <a href="https://github.com/lfortran/lfortran/issues/7423" target="_blank" style="text-decoration: underline; color: inherit;"><strong>#7423</strong></a> - Handle ClassType variable passed to subroutine which expects a StructType
    </li>
    <li>
      <a href="https://github.com/lfortran/lfortran/issues/7446" target="_blank" style="text-decoration: underline; color: inherit;"><strong>#7446</strong></a> - Handle assignment of ClassType variable to StructType in select type
    </li>
    <li>
      <a href="https://github.com/lfortran/lfortran/issues/7427" target="_blank" style="text-decoration: underline; color: inherit;"><strong>#7427</strong></a> - Handle struct parameters members inside a functionCall and print
    </li>
    <li>
      <a href="https://github.com/lfortran/lfortran/issues/7420" target="_blank" style="text-decoration: underline; color: inherit;"><strong>#7420</strong></a> - Handle ArraySection of parameter array
    </li>
  </ul>
        <li>Merged fixes for some of the reported MREs into LFortran’s main branch, which helped progress toml-f compilation further. Fixes include: </li>
        <ul class="list-disc pl-6 mt-2">
    <li>
      <a href="https://github.com/lfortran/lfortran/issues/7424" target="_blank" style="text-decoration: underline; color: inherit;"><strong>#7424</strong></a> - generalise argument of StringChr to have int8 kind
    </li>
    <li>
      <a href="https://github.com/lfortran/lfortran/issues/7425" target="_blank" style="text-decoration: underline; color: inherit;"><strong>#7425</strong></a> - don't do getelementptr for 1D parameter arrays
    </li>
    <li>
      <a href="https://github.com/lfortran/lfortran/issues/7429" target="_blank" style="text-decoration: underline; color: inherit;"><strong>#7429</strong></a> - correct `m_original_name` for structs in nested pass
    </li>
    <li>
      <a href="https://github.com/lfortran/lfortran/issues/7503" target="_blank" style="text-decoration: underline; color: inherit;"><strong>#7503</strong></a> - allow struct to class association if struct is its extended type
    </li>
  </ul>  
      </ul>

      <p class="mt-4">
        These contributions are helping reduce the number of blocking issues in compiling toml-f, and each merged fix marks an important step forward.
        I worked for around 19 hours this week, focusing on creating MREs, resolving the issues and pushing fixes to LFortran.
      </p>
<p class="mt-6">
        I’d like to thank 
        <a href="https://ondrejcertik.com/" target="_blank" style="text-decoration: underline; color: inherit;"><strong>Ondřej Čertík</strong></a> 
        and 
        <a href="https://github.com/Pranavchiku" target="_blank" style="text-decoration: underline; color: inherit;"><strong>Pranav Goswami</strong></a> 
        once again for their support, review, and encouragement.
      </p>
      <p class="mt-6 font-semibold">Plan for next week:</p>
      <ul class="list-disc pl-6">
        <li>Work on fixing more toml-f related failures that are still open and hard to workaround.</li>
        <li>Start compiling the <a href="https://github.com/perazz/fortran-shlex" target="_blank" style="text-decoration: underline; color: inherit;"><strong>fortran-shlex</strong></a> library with LFortran and create MREs for issues found during the compilation process. This is independent code so we can do in parallel which will boost progress towards compiling FPM.</li>
      </ul>

    </div>    
  </section>

   <!-- Navigation Buttons -->
<div class="px-6 pb-10 max-w-4xl mx-auto flex flex-wrap gap-4 justify-center">
  <!-- Previous Week -->
  <a href="week1.html" class="inline-flex items-center px-4 py-2 bg-gray-800 text-white text-sm font-semibold rounded hover:bg-gray-700 transition">
    <i class="fas fa-arrow-left mr-2"></i> Previous Week
  </a>

  <!-- Home -->
  <a href="gsoc25.html" class="inline-flex items-center px-4 py-2 bg-gray-800 text-white text-sm font-semibold rounded hover:bg-gray-700 transition">
    <i class="fas fa-home mr-2"></i> Blog Home
  </a>

  <!-- Next Week -->
  <a href="week3.html" class="inline-flex items-center px-4 py-2 bg-gray-800 text-white text-sm font-semibold rounded hover:bg-gray-700 transition">
    Next Week <i class="fas fa-arrow-right ml-2"></i>
  </a>
</div>

  <!-- Footer -->
  <footer class="bg-gray-100 text-center py-8 text-sm text-gray-600">
    <div class="flex justify-center space-x-6 mb-2 text-gray-700 text-xl">
      <a href="https://github.com/jinangshah21" target="_blank" aria-label="GitHub">
        <i class="fab fa-github hover:text-gray-900"></i>
      </a>
      <a href="mailto:jinang2110@gmail.com" aria-label="Email">
        <i class="fas fa-envelope hover:text-gray-900"></i>
      </a>
      <a href="https://www.linkedin.com/in/jinang-shah-0ba968255" target="_blank" aria-label="LinkedIn">
        <i class="fab fa-linkedin hover:text-blue-700"></i>
      </a>
    </div>
  </footer>

</body>
</html>
